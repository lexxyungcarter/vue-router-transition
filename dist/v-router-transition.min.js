!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self)["v-router-transition"]=t()}(this,(function(){"use strict";function e(e,t,n,i,o,s,r,a,d,l){"boolean"!=typeof r&&(d=a,a=r,r=!1);const f="function"==typeof n?n.options:n;let h;if(e&&e.render&&(f.render=e.render,f.staticRenderFns=e.staticRenderFns,f._compiled=!0,o&&(f.functional=!0)),i&&(f._scopeId=i),s?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},f._ssrRegister=h):t&&(h=r?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),h)if(f.functional){const e=f.render;f.render=function(t,n){return h.call(n),e(t,n)}}else{const e=f.beforeCreate;f.beforeCreate=e?[].concat(e,h):[h]}return n}return e({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("transition",{attrs:{name:e.transitionName,mode:e.transitionMode,"enter-active-class":e.transitionEnterActiveClass},on:{beforeLeave:e.beforeLeave,enter:e.enter,afterEnter:e.afterEnter}},[e._t("default")],2)},staticRenderFns:[]},undefined,{props:{transition:{type:String,default:"fade"},mode:{type:String,default:"out-in"}},data(){return{prevHeight:0,transitionName:this.transition,transitionMode:this.mode,transitionEnterActiveClass:""}},created(){this.$router.beforeEach(((e,t,n)=>{let i=this.transitionName;if("slide"===i||"sliding"===i){i=e.path.split("/").length<t.path.split("/").length?"slide-right":"slide-left"}this.transitionEnterActiveClass=`${i}-enter-active`,"zoom"===e.meta.transitionName&&(this.transitionMode="in-out",this.transitionEnterActiveClass="zoom-enter-active",document.body.style.overflow="hidden"),"zoom"===t.meta.transitionName&&(this.transitionMode=null,this.transitionEnterActiveClass=null,document.body.style.overflow=null),this.transitionName=i,n()}))},methods:{beforeLeave(e){this.prevHeight=getComputedStyle(e).height},enter(e){const{height:t}=getComputedStyle(e);e.style.height=this.prevHeight,setTimeout((()=>{e.style.height=t}))},afterEnter(e){e.style.height="auto"}}},undefined,false,undefined,!1,void 0,void 0,void 0)}));
